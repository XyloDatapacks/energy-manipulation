$execute on passengers if entity @s[type=minecraft:text_display,tag=xem.spell.display.0] run data modify entity @s text set value '["",{"storage":"energy_manipulation:op","nbt":"spell_display[$(0)].concatenate_index"},"\\n",{"text":"$(cost_0)"},{"translate":"energy_manipulation.spell.value_cost_type.$(cost_type_0)","fallback":"","color":"white","font":"energy_manipulation:energy/char"},"\\n","\\n",{"translate":"energy_manipulation.spell.value.$(v0)","fallback":"$(v0)","color":"white"}]'
$execute on passengers if entity @s[type=minecraft:text_display,tag=xem.spell.display.1] run data modify entity @s text set value '["",{"storage":"energy_manipulation:op","nbt":"spell_display[$(1)].concatenate_index"},"\\n",{"text":"$(cost_1)"},{"translate":"energy_manipulation.spell.value_cost_type.$(cost_type_1)","fallback":"","color":"white","font":"energy_manipulation:energy/char"},"\\n","\\n",{"translate":"energy_manipulation.spell.value.$(v1)","fallback":"$(v1)","color":"white"}]'
$execute on passengers if entity @s[type=minecraft:text_display,tag=xem.spell.display.2] run data modify entity @s text set value '["",{"storage":"energy_manipulation:op","nbt":"spell_display[$(2)].concatenate_index"},"\\n",{"text":"$(cost_2)"},{"translate":"energy_manipulation.spell.value_cost_type.$(cost_type_2)","fallback":"","color":"white","font":"energy_manipulation:energy/char"},"\\n","\\n",{"translate":"energy_manipulation.spell.value.$(v2)","fallback":"$(v2)","color":"#00CFFF","bold":true}]'
$execute on passengers if entity @s[type=minecraft:text_display,tag=xem.spell.display.3] run data modify entity @s text set value '["",{"storage":"energy_manipulation:op","nbt":"spell_display[$(3)].concatenate_index"},"\\n",{"text":"$(cost_3)"},{"translate":"energy_manipulation.spell.value_cost_type.$(cost_type_3)","fallback":"","color":"white","font":"energy_manipulation:energy/char"},"\\n","\\n",{"translate":"energy_manipulation.spell.value.$(v3)","fallback":"$(v3)","color":"white"}]'
$execute on passengers if entity @s[type=minecraft:text_display,tag=xem.spell.display.4] run data modify entity @s text set value '["",{"storage":"energy_manipulation:op","nbt":"spell_display[$(4)].concatenate_index"},"\\n",{"text":"$(cost_4)"},{"translate":"energy_manipulation.spell.value_cost_type.$(cost_type_4)","fallback":"","color":"white","font":"energy_manipulation:energy/char"},"\\n","\\n",{"translate":"energy_manipulation.spell.value.$(v4)","fallback":"$(v4)","color":"white"}]'

$execute on passengers if entity @s[type=minecraft:text_display,tag=xem.spell.display.0] on passengers run data modify entity @s[tag=xem.spell.display.0] text set value '["",{"translate":"energy_manipulation.spell.back_ground.$(k0)","fallback":"\\uE000","font":"energy_manipulation:spell/keys","color":"$(c0)"}]'
$execute on passengers if entity @s[type=minecraft:text_display,tag=xem.spell.display.1] on passengers run data modify entity @s[tag=xem.spell.display.1] text set value '["",{"translate":"energy_manipulation.spell.back_ground.$(k1)","fallback":"\\uE000","font":"energy_manipulation:spell/keys","color":"$(c1)"}]'
$execute on passengers if entity @s[type=minecraft:text_display,tag=xem.spell.display.2] on passengers run data modify entity @s[tag=xem.spell.display.2] text set value '["",{"translate":"energy_manipulation.spell.back_ground.$(k2)","fallback":"\\uE000","font":"energy_manipulation:spell/keys","color":"$(c2)"}]'
$execute on passengers if entity @s[type=minecraft:text_display,tag=xem.spell.display.3] on passengers run data modify entity @s[tag=xem.spell.display.3] text set value '["",{"translate":"energy_manipulation.spell.back_ground.$(k3)","fallback":"\\uE000","font":"energy_manipulation:spell/keys","color":"$(c3)"}]'
$execute on passengers if entity @s[type=minecraft:text_display,tag=xem.spell.display.4] on passengers run data modify entity @s[tag=xem.spell.display.4] text set value '["",{"translate":"energy_manipulation.spell.back_ground.$(k4)","fallback":"\\uE000","font":"energy_manipulation:spell/keys","color":"$(c4)"}]'

# instructions
$execute on passengers if entity @s[type=minecraft:text_display,tag=xem.spell.display.2] on passengers run data modify entity @s[tag=xem.spell.display.i2] text set value '["",{"text":"\\uE000","font":"energy_manipulation:icons/generic"},{"translate":"energy_manipulation.spell.display.$(i_center_1)","fallback":"center_1","color":"white"},"\\n",{"text":"\\uE001","font":"energy_manipulation:icons/generic"},{"translate":"energy_manipulation.spell.display.center_2","fallback":"center_2","color":"white"}]'

# info
$execute on passengers if entity @s[type=minecraft:text_display,tag=xem.spell.display.info] run data modify entity @s text set value '["",{"translate":"energy_manipulation.spell.display.info.key.$(info_key).value.$(info)","fallback":"","color":"white"}]'
$execute on passengers if entity @s[type=minecraft:text_display,tag=xem.spell.display.info] on passengers run data modify entity @s text set value '["",{"text":"\\uE006","font":"energy_manipulation:spell/keys","color":"$(c2)"}]'

# set "@s xem.spell.display.node_index_input" from center node value_index
$execute on origin unless score @s xem.spell.display.showing_value matches 1 store result score @s xem.spell.display.node_index_input run data get storage energy_manipulation:op spell_display[$(2)].value_index
